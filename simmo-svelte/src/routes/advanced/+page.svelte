<script lang="ts">
  import type { PageData } from './$types';
  import Input from './Input.svelte';

  export let data: PageData;

  let amount = Number(data.params.amount) || 100000;
  let duration = Number(data.params.duration) || 20;
  let rate = Number(data.params.rate) || 3;
  let income = Number(data.params.income) || 2000;
</script>

<h1>Simmo turbo üçü</h1>

<div>
  <h2>Valeurs initiales</h2>
  <div>
    <p><b>Taux d'endettement: </b>{data.params.initialResults.debtLoanRatio} %</p>
    <p><b>Mensualit√©s: </b>{data.params.initialResults.monthlyLoanCost.toFixed(0)} ‚Ç¨</p>
    <p><b>Cout du cr√©dit: </b>{data.params.initialResults.totalLoanCost.toFixed(0)} ‚Ç¨</p>
  </div>

  <form method="post">
    <label>
      <span>Montant emprunt√©</span>
      <Input bind:value={amount} step={1000} />
    </label>

    <label>
      Dur√©e du pret en ann√©es
      <Input bind:value={duration} />
    </label>

    <label>
      Taux annuel
      <Input bind:value={rate} step={0.05} />
    </label>

    <label>
      Revenus mensuels nets avant impots
      <Input bind:value={income} step={50} />
    </label>
  </form>
</div>

<style>
  h1 {
    text-align: center;
  }

  form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  input[type='range'] {
  }
</style>
